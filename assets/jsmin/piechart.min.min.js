"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define("EasyPieChart",["jquery"],e):e((void 0).jQuery)}(0,function(n){var l=function(t,l){var n,e=document.createElement("canvas");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e);var r=e.getContext("2d");e.width=e.height=l.size,t.appendChild(e);var i=1;1<window.devicePixelRatio&&(i=window.devicePixelRatio,e.style.width=e.style.height=[l.size,"px"].join(""),e.width=e.height=l.size*i,r.scale(i,i)),r.translate(l.size/2,l.size/2),r.rotate((l.rotate/180-.5)*Math.PI);var o=(l.size-l.lineWidth)/2;l.scaleColor&&l.scaleLength&&(o-=l.scaleLength+2),Date.now=Date.now||function(){return+new Date};var a=function(t,e,n){var i=(n=Math.min(Math.max(-1,n||0),1))<=0;r.beginPath(),r.arc(0,0,o,0,2*Math.PI*n,i),r.strokeStyle=t,r.lineWidth=e,r.stroke()},s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},c=function(){l.scaleColor&&function(){var t,e,n=24;r.lineWidth=1,r.fillStyle=l.scaleColor,r.save();for(n=24;0<n;--n)t=0==n%6?(e=l.scaleLength,0):(e=.6*l.scaleLength,l.scaleLength-e),r.fillRect(-l.size/2+t,0,e,1),r.rotate(Math.PI/12);r.restore()}(),l.trackColor&&a(l.trackColor,l.lineWidth,1)};this.clear=function(){r.clearRect(l.size/-2,l.size/-2,l.size,l.size)},this.draw=function(t){var e;l.scaleColor||l.trackColor?r.getImageData&&r.putImageData?n?r.putImageData(n,0,0):(c(),n=r.getImageData(0,0,l.size*i,l.size*i)):(this.clear(),c()):this.clear(),r.lineCap=l.lineCap,e="function"==typeof l.barColor?l.barColor(t):l.barColor,a(e,l.lineWidth,t/100)}.bind(this),this.animate=function(n,i){var r=Date.now();l.onStart(n,i);var o=function(){var t=Math.min(Date.now()-r,l.animate),e=l.easing(this,t,n,i-n,l.animate);this.draw(e),l.onStep(n,i,e),t>=l.animate?l.onStop(n,i):s(o)}.bind(this);s(o)}.bind(this)},i=function(e,n){var i={barColor:"#02ADC6",trackColor:"#ecece9",scaleLength:5,lineWidth:20,size:181,rotate:0,animate:1e3,easing:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},onStart:function(){},onStep:function(){},onStop:function(){}};if(void 0!==l)i.renderer=l;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");i.renderer=SVGRenderer}var r={},o=0,t=function(){for(var t in this.el=e,this.options=r,i)i.hasOwnProperty(t)&&(r[t]=n&&void 0!==n[t]?n[t]:i[t],"function"==typeof r[t]&&(r[t]=r[t].bind(this)));r.easing="string"==typeof r.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[r.easing])?jQuery.easing[r.easing]:i.easing,this.renderer=new r.renderer(e,r),this.renderer.draw(o),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),r.animate?this.renderer.animate(o,t):this.renderer.draw(t),o=t,this}.bind(this),t()};n.fn.easyPieChart=function(e){return this.each(function(){var t;n.data(this,"easyPieChart")||(t=n.extend({},e,n(this).data()),n.data(this,"easyPieChart",new i(this,t)))})}}),function(){var e,n,t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},m=[].slice;e=this,n=function(s,o){var e,l,a,c,n,u,f,r,h,i,d,p,y,v,w,g;return e=s(o),r=0<=t.call(o,"ontouchstart"),c={horizontal:{},vertical:{}},f={},u="waypoints-context-id",d="resize.waypoints",p="scroll.waypoints",y=n=1,v="waypoints-waypoint-ids",w="waypoint",g="waypoints",l=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+n++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(u,this.id),f[this.id]=this,t.bind(p,function(){var t;if(!e.didScroll&&!r)return e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},o.setTimeout(t,s[g].settings.scrollThrottle)}),t.bind(d,function(){var t;if(!e.didResize)return e.didResize=!0,t=function(){return s[g]("refresh"),e.didResize=!1},o.setTimeout(t,s[g].settings.resizeThrottle)})}return t.prototype.doScroll=function(){var t,i=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!r||t.vertical.oldScroll&&t.vertical.newScroll||s[g]("refresh"),s.each(t,function(t,r){var n,e,o;return o=[],e=r.newScroll>r.oldScroll,n=e?r.forward:r.backward,s.each(i.waypoints[t],function(t,e){var n,i;return r.oldScroll<(n=e.offset)&&n<=r.newScroll?o.push(e):r.newScroll<(i=e.offset)&&i<=r.oldScroll?o.push(e):void 0}),o.sort(function(t,e){return t.offset-e.offset}),e||o.reverse(),s.each(o,function(t,e){if(e.options.continuous||t===o.length-1)return e.trigger([n])})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,n,i=this;return n=s.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:n?0:e.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:e.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?s[g]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},s.each(t,function(t,a){return s.each(i.waypoints[t],function(t,e){var n,i,r,o,l;if(n=e.options.offset,r=e.offset,i=s.isWindow(e.element)?0:e.$element.offset()[a.offsetProp],s.isFunction(n)?n=n.apply(e.element):"string"==typeof n&&(n=parseFloat(n),-1<e.options.offset.indexOf("%")&&(n=Math.ceil(a.contextDimension*n/100))),e.offset=i-a.contextOffset+a.contextScroll-n,(!e.options.onlyOnScroll||null==r)&&e.enabled)return null!==r&&r<(o=a.oldScroll)&&o<=e.offset?e.trigger([a.backward]):null!==r&&r>(l=a.oldScroll)&&l>=e.offset?e.trigger([a.forward]):null===r&&a.oldScroll>=e.offset?e.trigger([a.forward]):void 0})})},t.prototype.checkEmpty=function(){if(s.isEmptyObject(this.waypoints.horizontal)&&s.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([d,p].join(" ")),delete f[this.id]},t}(),a=function(){function t(t,e,n){var i,r;"bottom-in-view"===(n=s.extend({},s.fn[w].defaults,n)).offset&&(n.offset=function(){var t;return t=s[g]("viewportHeight"),s.isWindow(e.element)||(t=e.$element.height()),t-s(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=n.horizontal?"horizontal":"vertical",this.callback=n.handler,this.context=e,this.enabled=n.enabled,this.id="waypoints"+y++,this.offset=null,this.options=n,e.waypoints[this.axis][this.id]=this,c[this.axis][this.id]=this,(i=null!=(r=t.data(v))?r:[]).push(this.id),t.data(v,i)}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete c[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,n;return(n=s(t).data(v))?(e=s.extend({},c.horizontal,c.vertical),s.map(n,function(t){return e[t]})):[]},t}(),i={init:function(t,r){return null==r&&(r={}),null==r.handler&&(r.handler=t),this.each(function(){var t,e,n,i;return t=s(this),n=null!=(i=r.context)?i:s.fn[w].defaults.context,s.isWindow(n)||(n=t.closest(n)),n=s(n),(e=f[n.data(u)])||(e=new l(n)),new a(t,e,r)}),s[g]("refresh"),this},disable:function(){return i._invoke(this,"disable")},enable:function(){return i._invoke(this,"enable")},destroy:function(){return i._invoke(this,"destroy")},prev:function(t,e){return i._traverse.call(this,t,e,function(t,e,n){if(0<e)return t.push(n[e-1])})},next:function(t,e){return i._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1)return t.push(n[e+1])})},_traverse:function(e,t,n){var i,r;return null==e&&(e="vertical"),null==t&&(t=o),r=h.aggregate(t),i=[],this.each(function(){var t;return t=s.inArray(this,r[e]),n(i,t,r[e])}),this.pushStack(i)},_invoke:function(t,n){return t.each(function(){var t;return t=a.getWaypointsByElement(this),s.each(t,function(t,e){return e[n](),!0})}),this}},s.fn[w]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?m.call(arguments,1):[],i[e]?i[e].apply(this,t):s.isFunction(e)?i.init.apply(this,arguments):s.isPlainObject(e)?i.init.apply(this,[null,e]):e?s.error("The "+e+" method does not exist in jQuery Waypoints."):s.error("jQuery Waypoints needs a callback function or handler option.")},s.fn[w].defaults={context:o,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return s.each(f,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=o.innerHeight)?t:e.height()},aggregate:function(t){var e,i,n;return e=c,t&&(e=null!=(n=f[s(t).data(u)])?n.waypoints:void 0),e?(i={horizontal:[],vertical:[]},s.each(i,function(t,n){return s.each(e[t],function(t,e){return n.push(e)}),n.sort(function(t,e){return t.offset-e.offset}),i[t]=s.map(n,function(t){return t.element}),i[t]=s.unique(i[t])}),i):[]},above:function(t){return null==t&&(t=o),h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=o),h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=o),h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=o),h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return i[t]=e},_invoke:function(n){var t;return t=s.extend({},c.vertical,c.horizontal),s.each(t,function(t,e){return e[n](),!0})},_filter:function(t,e,n){var i,r;return(i=f[s(t).data(u)])?(r=[],s.each(i.waypoints[e],function(t,e){if(n(i,e))return r.push(e)}),r.sort(function(t,e){return t.offset-e.offset}),s.map(r,function(t){return t.element})):[]}},s[g]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?m.call(arguments,1):[],h[e]?h[e].apply(null,t):h.aggregate.call(null,e)},s[g].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return s[g]("refresh")})},"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(t){return n(t,e)}):n(e.jQuery,e)}.call(void 0);
